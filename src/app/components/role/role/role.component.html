<!-- Banner -->
<div class="banner w-100 d-flex justify-content-center animated fadeIn fast">
  <div class="video">
    <div class="cover">
      <div class="container">
        <div class="row justify-content-md-center my-4 my-md-10">
          <div class="col-md-8 text-left animated" animateOnScroll animationName="slideInLeft">
            <p class="subtitle">BROADCASTING TRAINING PROGRAMME</p>
            <h2 class="text-left">{{ role.title }}
            </h2>
            <!--<p class="white">-->
              <!--lorem ipsum-->
            <!--</p>-->
          </div>
        </div>
      </div>
    </div>
    <div class="videoHome">
      <img class="img-fluid w-100" src="{{ role.banner }}">
    </div>
  </div>
</div>
<div class="main">
  <!-- Title and description -->
  <div class="container mx-auto">
    <div class="row justify-content-md-center">
      <div class="my-5 my-md-8 col-md-8 px-4 px-md-0">
        <div class="title-page text-center mb-md-4">
          <!--<p class="">FIND YOUR ROLE</p>-->
          <h2 class="px-5 px-md-8">
            {{ role.description }}
          </h2>
        </div>
        <div class="">
          <p class="text-muted text-center">
            {{ role.secondary_description }}
          </p>
        </div>
      </div>
    </div>
  </div>
  <!-- Skills -->
  <div class="container">
    <div class="row justify-content-md-center">
      <div class="mt-5 mt-md-6 col-md-9">
        <div class="title-page text-center">
          <!--<p class="">THE BTP STUDENT EXPERIENCE</p>-->
          <h2>
            Skills
          </h2>
        </div>
        <!--<p class="text-muted pt-md-4  text-center">-->
          <!--You are eligible to participate in the Tokyo 2020 BTP if you-->
        <!--</p>-->
      </div>
    </div>
  </div>
  <div class="container mx-auto">
    <div class="containerCustom w-100 py-md-6 py-5">
      <div class="row">
        <div class="col-md-4 pb-md-8 pb-3 px-5"
          *ngFor="let skill of role['skills']; let i = index; let first = first; let last = last">
          <div class="py-md-5 pt-3 text-center animated" animateOnScroll animationName="slideInLeft" *ngIf="first">
            <img class="img-fluid mx-auto" src="{{ skill.icon }}">
          </div>
          <h3 class="pt-5 text-center animated" animateOnScroll animationName="slideInLeft" *ngIf="first">{{ skill.icon_text }}</h3>
          <div class="py-md-5 pt-3 text-center animated" animateOnScroll animationName="zoomIn" *ngIf="i === 1">
            <img class="img-fluid mx-auto" src="{{ skill.icon }}">
          </div>
          <h3 class="pt-5 text-center animated" animateOnScroll animationName="zoomIn" *ngIf="i === 1">{{ skill.icon_text }}</h3>
          <div class="py-md-5 pt-3 text-center animated" animateOnScroll animationName="slideInRight" *ngIf="last">
            <img class="img-fluid mx-auto" src="{{ skill.icon }}">
          </div>
          <h3 class="pt-5 text-center animated" animateOnScroll animationName="slideInRight" *ngIf="last">{{ skill.icon_text }}</h3>
        </div>
      </div>
    </div>
  </div>
  <!-- Contract -->
  <div class="container">
    <div class="row justify-content-md-center">
      <div class="mt-5 mt-md-6 col-md-9">
        <div class="title-page text-center">
          <!--<p class="">THE BTP STUDENT EXPERIENCE</p>-->
          <h2>
            Contract
          </h2>
        </div>
        <!--<p class="text-muted pt-md-4  text-center">-->
        <!--You are eligible to participate in the Tokyo 2020 BTP if you-->
        <!--</p>-->
      </div>
    </div>
  </div>
  <div class="container mx-auto">
    <div class="containerCustom w-100 py-md-6 py-5">
      <div class="row">
        <div class="col-md-6 pb-md-8 pb-3 px-5"
          *ngFor="let contract of role['contract']; let i = index; let first = first; let last = last">
          <div class="py-md-5 pt-3 text-center animated" *ngIf="first" animateOnScroll animationName="slideInLeft">
            <img class="img-fluid mx-auto" src="{{ contract.icon }}">
          </div>
          <div class="animated" *ngIf="first" animateOnScroll animationName="slideInLeft">
            <h3 class="pt-5 text-center">Average duration of the contract:</h3>
            <h3 class="pt-3 text-center">{{ contract.icon_text }}</h3>
          </div>
          <div class="py-md-5 pt-3 text-center animated" *ngIf="last" animateOnScroll animationName="slideInRight">
            <img class="img-fluid mx-auto" src="{{ contract.icon }}">
          </div>
          <div class="animated" *ngIf="last" animateOnScroll animationName="slideInRight">
            <h3 class="pt-5 text-center">Possibility for long-term contract:</h3>
            <h3 class="pt-3 text-center" *ngIf="contract.icon_text">{{ contract.icon_text }}</h3>
            <h3 class="pt-3 text-center" *ngIf="!contract.icon_text">Not available</h3>
          </div>
        </div>
        <!--<div class="col-md-6 pb-md-8 pb-3 px-5 animated" animateOnScroll animationName="slideInRight">-->
          <!--<div class="py-md-5 pt-3 text-center">-->
            <!--<img class="img-fluid mx-auto" src="assets/contract2NA.jpg">-->
          <!--</div>-->
          <!--<h3 class="pt-5 text-center">Possibility for longer-term contract:-->
          <!--</h3>-->
          <!--<h3 class="pt-3 text-center">Not available</h3>-->
        <!--</div>-->
      </div>
    </div>
  </div>
  <!-- Join BTP -->
  <div class="contact-us w-100 d-flex mt-md-6" [class.isActive]="shareActive">
    <div class="containerCustom col-md-8 mx-auto">
      <div class="text-center py-6 px-4 px-md-0">
        <h2 class="px-2">
          <br/>Interested in this area?
        </h2>
        <div class="row justify-content-center">
          <div class="col-md-8 py-5">
            <form>
              <div class="form-row">
                <div class="col pl-md-5">
                  <button class="btn btn-outline-primary" type="button" (click)="shareExpanded()">
                    <i-share-2 class="icon"></i-share-2>
                    Share
                  </button>
                </div>
                <div class="col">
                  <button type="button" class="btn btn-primary" (click)="openModal(template)">
                    <i-edit class="icon"></i-edit>
                    Apply now
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="share col-md-12 text-center animated" animateOnScroll animationName="fadeIn fast" *ngIf="shareActive">
        <a class="icon-mail-alt share-link" href="mailto:?subject={{ role.title }}%20role%20at%20Broadcast%20Training%20Programme&amp;body=Hi%2C%0A%0AI%20saw%20this%20role%20at%20Broadcast%20Training%20Programme%2C%20you%20should%20check%20it%20out%21%0A%0Ahttps%3A%2F%2Fwww.obs.tv%2Fbtp%2Frole%2F4" title="Share with mail" rel="noopener noreferrer">
          <img class="pr-3" src="assets/shareMail.png">
        </a>
        <a class="icon-facebook share-link" href="http://www.facebook.com/sharer.php?u=https://www.obs.tv/btp/" title="Share on Facebook" target="_blank" rel="noopener noreferrer"><img class="pr-3" src="assets/shareFb.png"></a>
        <a href="#" target="_blank"><img class="pr-3" src="assets/shareLine.png" (click)="shareWithLine()"></a>
        <a href="#"><img class="" src="assets/shareLink.png" (click)="copyMessage('https://www.obs.tv/btp/' + url)" value="click to copy"></a>
      </div>
    </div>
  </div>
  <!-- Positions -->
  <div class="container">
    <div class="row justify-content-md-center">
      <div class="mt-5 my-md-8 col-md-9">
        <div class="title-page text-center">
          <h2>
            Positions
          </h2>
        </div>
      </div>
    </div>
  </div>
  <div class="containerCustom w-100 pb-md-8 pb-3">
    <div class="containerCarrousel">
      <div class="row justify-content-center text-center">
        <div class="col-md-6" *ngFor="let position of role['positions']; let i = index">
          <div class="card position mb-4">
            <div class="card-header p-4">{{ position.position }}</div>
            <div class="card-body-cover" [class.d-none]="position.isActive"></div>
            <div class="card-body" [class.isActive]="position.isActive">
              <h5 class="card-title my-5">What you will do</h5>
              <ul class="card-text text-left" *ngFor="let dutie of position['duties']; let i = index">
                <li> {{ dutie }}</li>
              </ul>
              <h5 class="card-title mt-5 mb-3">Where</h5>
              <img class="img-fluid mx-auto my-3" src="assets/wherelocationicon.png">
              <p class="text-center">
                {{ position.location }}
              </p>
              <!--<img class="img-fluid mx-auto my-3" src="assets/whereareaicon.png">-->
              <!--<p class="text-center">-->
                <!--{{ position.area }}-->
              <!--</p>-->
              <h5 class="card-title mt-7 mb-3">Level of English required</h5>
              <div>
                <span *ngFor="let level of position['english_level']; let i = index">
                  <img class="img-fluid mx-auto my-3 px-1" src="assets/staryellow.png" *ngIf="level === '100'">
                  <img class="img-fluid mx-auto my-3 px-1" src="assets/starboth.png" *ngIf="level === '50'">
                  <img class="img-fluid mx-auto my-3 px-1" src="assets/star.png" *ngIf="level === '0'">
                </span>
              </div>
              <button class="btn btn-outline-dark btn-xs-block animated fadeIn my-5" type="button"
                 data-toggle="modal"
                 data-target="#ModalOlympic" data-backdrop="static"
                 (click)="viewVideo(position.video)"
                  *ngIf="position.video">
                <i-play class="icon"></i-play>
                Watch the video</button>
            </div>
            <div class="card-footer bg-transparent text-primary p-4" (click)="toggleMore(position)">View {{ position.isActive? 'less':'more' }}
              <i-chevron-down class="icon" [class.d-none]="position.isActive"></i-chevron-down>
              <i-chevron-up class="icon" [class.d-none]="!position.isActive"></i-chevron-up>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="ModalOlympic" tabindex="-1"
     role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true"
     *ngIf="modal">
  <div class="modal-dialog modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" (click)="stopPlayer()" (click)="resetVideo()"
          aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row justify-content-md-center">
          <div class="img-fluid home-video-full-width">
            <vg-player (onPlayerReady)="onPlayerReady($event)"> <vg-overlay-play></vg-overlay-play> <vg-buffering></vg-buffering>
              <vg-scrub-bar> <vg-scrub-bar-current-time></vg-scrub-bar-current-time>
                <vg-scrub-bar-buffering-time></vg-scrub-bar-buffering-time> </vg-scrub-bar>
              <vg-controls  [vgAutohide]="true" [vgAutohideTime]="1">
                <vg-play-pause></vg-play-pause> <vg-playback-button></vg-playback-button>
                <vg-time-display vgProperty="current" vgFormat="mm:ss"></vg-time-display>
                <vg-scrub-bar style="pointer-events: none;"></vg-scrub-bar>
                <vg-time-display
                  vgProperty="left" vgFormat="mm:ss">
                </vg-time-display>
                <vg-time-display
                  vgProperty="total" vgFormat="mm:ss"></vg-time-display>
                <!-- <vg-track-selector></vg-track-selector> -->
                <vg-mute></vg-mute> <vg-volume></vg-volume> <vg-fullscreen></vg-fullscreen>
              </vg-controls>
              <video [vgMedia]="media" #media
                     id="singleVideo" crossorigin>
                <source
                  src="{{ video }}"
                  type="video/mp4">
              </video>
            </vg-player>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- Modal template -->
<ng-template #template>
  <div class="modal-header my-2">
    <div class="col-md-3 col-lg-12 d-flex justify-content-between align-items-center">
      <!--<img class="logo-mobile" src="assets/logoOBS.png"-->
           <!--alt="Olympic Broadcasting Services">-->
      <div class="title" *ngIf="!isSuccess">Apply Now</div>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide(); closeApply()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  </div>
  <div class="success modal-body animated fadeIn fast mt-3">
    <div class="d-flex flex-row">
      <div class="col-md-12 text-align-center">
        <div class="row">
          <div class="col-md-12 mb-md-2 my-md-3 pt-md-0 pb-md-4 pb-3 my-auto">
              <div class="text-center py-5 px-4 px-md-0">
                <h2 class="px-2" *ngIf="!isSuccess">
                  <br/>Ready to join the BTP Team?
                </h2>
                <h2 class="px-2" *ngIf="isSuccess">
                  <br/>Thank you for your interest in the BTP!
                </h2>
              </div>
            <p class="text-center" *ngIf="!isSuccess">
              Application for the Broadcast Training Programme for the Olympic Games Tokyo 2020 will start in spring 2019. <br> Places on the programme will
              be allocated to eligible applicants on a first-come, first-served basis.
            </p>
            <p class="text-center" *ngIf="!isSuccess">
              Make sure to be the first to know when the online application system opens and sign up now!
            </p>
          </div>
        </div>
        <div class="row justify-content-center">
          <div class="col-md-8 d-flex justify-content-center" *ngIf="!isSuccess">
            <form [formGroup]="contactForm" (ngSubmit)="saveData()" novalidate>
              <div class="form-row">
                <div class="col pr-3 form-group">
                  <input type="email" class="form-control form-control-btp" [class.is-invalid]="contactForm.get('email').hasError('email')" formControlName="email" id="email" placeholder="email address" aria-describedby="emailHelp">
                  <div class="invalid-feedback text-left mt-2" *ngIf="contactForm.get('email').hasError('email')">
                    Please write a right email address
                  </div>
                </div>
                <div class="col">
                  <button type="submit" class="btn btn-primary" [disabled]="contactForm.invalid">
                    <i-mail class="icon"></i-mail>
                    Get Connected
                  </button>
                </div>
              </div>
              <div class="form-row text-left">
                <div class="form-group col md-checkbox">
                  <div class="md-checkbox pl-4">
                    <input type="checkbox" class="form-check-input" formControlName="check" id="check">
                    <label class="form-check-label" for="check">
                      <p class="text-muted">I agree with the <a href="assets/terms_policies/privacy.pdf" target="_blank">privacy policy</a></p>
                    </label>
                    <div *ngIf="contactForm.get('check').errors && contactForm.get('check').dirty" class="alert alert-danger mt-2">
                      <span *ngIf="contactForm.get('check').hasError('required')">You must check</span>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
          <div  class="col-md-8 d-flex justify-content-center" *ngIf="isSuccess">
            <img class="img-fluid mx-auto animated" animateOnScroll animationName="bounce" src="assets/success.png">
          </div>
          <div  class="col-md-8 d-flex justify-content-center" *ngIf="isSuccess">
            <p class="text-center my-8">
              We have sent an email with a confirmation link to your email address.
              In order to complete the sign-up process, please click the confirmation link.
            </p>
          </div>
        </div>
      </div>
    </div>
    <div class="d-flex flex-row justify-content-center">
      <div class="col-md-12 text-center">
        <div class="row justify-content-center fixed-bottom" *ngIf="!isSuccess">
          <div class="col-md-8 my-4">
            <p>Any questions? <a href="#" routerLink="/contact" (click)="modalRef.hide()">Contact us</a></p>
          </div>
        </div>
        <div class="row justify-content-center fixed-bottom" *ngIf="isSuccess">
          <div class="col-md-8 my-4">
            <p>Any questions? <a href="mailto:btp.tokyo@obs.tv" (click)="modalRef.hide()">Contact us</a></p>
          </div>
          <div class="share col-md-12 justify-content-center my-4">
            <p>Share</p>
            <div class="col-md-12 my-2" *ngIf="isSuccess">
              <a class="icon-mail-alt share-link" href="mailto:?subject={{ role.title }}%20role%20at%20Broadcast%20Training%20Programme&amp;body=Hi%2C%0A%0AI%20saw%20this%20role%20at%20Broadcast%20Training%20Programme%2C%20you%20should%20check%20it%20out%21%0A%0Ahttps%3A%2F%2Fwww.obs.tv%2Fbtp%2Frole%2F4" title="Share with mail" rel="noopener noreferrer">
                <img class="pr-3" src="assets/shareMail.png">
              </a>
              <a class="icon-facebook share-link" href="http://www.facebook.com/sharer.php?u=https://www.obs.tv/btp/" title="Share on Facebook" target="_blank" rel="noopener noreferrer"><img class="pr-3" src="assets/shareFb.png"></a>
              <a href="#" target="_blank"><img class="pr-3" src="assets/shareLine.png" (click)="shareWithLine()"></a>
              <a href="#" target="_blank"><img class="" src="assets/shareLink.png" (click)="copyMessage('https://www.obs.tv/btp/' + url)" value="click to copy"></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>
